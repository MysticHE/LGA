{
  "name": "Lead Generation Automation",
  "nodes": [
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1r72_czo0Umx7PqscXWigeV9SR-2jOws03e-x3x71nVo",
          "mode": "list",
          "cachedResultName": "Singapore Lead Database",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1r72_czo0Umx7PqscXWigeV9SR-2jOws03e-x3x71nVo/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1r72_czo0Umx7PqscXWigeV9SR-2jOws03e-x3x71nVo/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Name": "={{ $('Scrape Apollo Leads').item.json.name }}",
            "Title": "={{ $('Scrape Apollo Leads').item.json.title }}",
            "Company Name": "={{ $('Scrape Apollo Leads').item.json.organization_name }}",
            "Company Website": "={{ $('Scrape Apollo Leads').item.json.organization_website_url }}",
            "Size": "={{ $('Scrape Apollo Leads').item.json.estimated_num_employees }}",
            "Email": "={{ $('Scrape Apollo Leads').item.json.email }}",
            "Email Verified": "Y",
            "LinkedIn URL": "={{ $('Scrape Apollo Leads').item.json.linkedin_url }}",
            "Industry": "={{ $('Scrape Apollo Leads').item.json.industry }}",
            "Location": "={{ $('Scrape Apollo Leads').item.json.country }}",
            "Notes": "={{ $json.message.content }}",
            "Conversion Status": "Pending"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Title",
              "displayName": "Title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Company Name",
              "displayName": "Company Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Company Website",
              "displayName": "Company Website",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Size",
              "displayName": "Size",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Email",
              "displayName": "Email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Email Verified",
              "displayName": "Email Verified",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "LinkedIn URL",
              "displayName": "LinkedIn URL",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Industry",
              "displayName": "Industry",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Location",
              "displayName": "Location",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Phone Number",
              "displayName": "Phone Number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Notes",
              "displayName": "Notes",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Conversion Status",
              "displayName": "Conversion Status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        1472,
        0
      ],
      "id": "0e3ee579-5ea7-4908-b55c-6c095d68ea2b",
      "name": "Append row in sheet",
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "aDVV2p6x7ONV9wBS",
          "name": "Google Sheets account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "formTitle": "Lead Generation Form",
        "formDescription": "Add the leads you'd like to generate here",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Job Titles",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "Owner"
                  },
                  {
                    "option": "Founder"
                  },
                  {
                    "option": "C suite"
                  },
                  {
                    "option": "Partner"
                  },
                  {
                    "option": "Vp"
                  },
                  {
                    "option": "Head"
                  },
                  {
                    "option": "Director"
                  },
                  {
                    "option": "Manager"
                  },
                  {
                    "option": "Senior"
                  }
                ]
              },
              "multiselect": true,
              "requiredField": true
            },
            {
              "fieldLabel": "Company Size",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "1-10"
                  },
                  {
                    "option": "11-20"
                  },
                  {
                    "option": "21-50"
                  },
                  {
                    "option": "51-100"
                  },
                  {
                    "option": "101-200"
                  },
                  {
                    "option": "201-500"
                  },
                  {
                    "option": "501-1000"
                  },
                  {
                    "option": "1001-2000"
                  },
                  {
                    "option": "2001-5000"
                  },
                  {
                    "option": "5001-10000"
                  },
                  {
                    "option": "10001+"
                  }
                ]
              },
              "multiselect": true,
              "requiredField": true
            }
          ]
        },
        "options": {
          "appendAttribution": false,
          "customCss": "=:root {\n\t/* Typography - Enhanced with better scale */\n\t--font-family: 'Inter', 'Open Sans', -apple-system, BlinkMacSystemFont, sans-serif;\n\t--font-family-mono: 'SF Mono', 'Monaco', 'Consolas', monospace;\n\t--font-weight-light: 300;\n\t--font-weight-normal: 400;\n\t--font-weight-medium: 500;\n\t--font-weight-semibold: 600;\n\t--font-weight-bold: 700;\n\t\n\t/* Improved font scale */\n\t--font-size-xs: 10px;\n\t--font-size-sm: 12px;\n\t--font-size-base: 14px;\n\t--font-size-md: 16px;\n\t--font-size-lg: 18px;\n\t--font-size-xl: 20px;\n\t--font-size-2xl: 24px;\n\t--font-size-3xl: 30px;\n\t--font-size-4xl: 36px;\n\t\n\t/* Legacy font sizes for compatibility */\n\t--font-size-body: var(--font-size-sm);\n\t--font-size-label: var(--font-size-base);\n\t--font-size-input: var(--font-size-base);\n\t--font-size-header: var(--font-size-xl);\n\t--font-size-paragraph: var(--font-size-base);\n\t--font-size-link: var(--font-size-sm);\n\t--font-size-error: var(--font-size-sm);\n\t--font-size-subheader: var(--font-size-base);\n\n\t/* Enhanced Color Palette */\n\t--color-white: #ffffff;\n\t--color-black: #000000;\n\t\n\t/* Neutral grays - more sophisticated */\n\t--color-gray-50: #f8fafc;\n\t--color-gray-100: #f1f5f9;\n\t--color-gray-200: #e2e8f0;\n\t--color-gray-300: #cbd5e1;\n\t--color-gray-400: #94a3b8;\n\t--color-gray-500: #64748b;\n\t--color-gray-600: #475569;\n\t--color-gray-700: #334155;\n\t--color-gray-800: #1e293b;\n\t--color-gray-900: #0f172a;\n\n\t/* Primary brand colors - enhanced coral/orange */\n\t--color-primary-50: #fef7f0;\n\t--color-primary-100: #feecdc;\n\t--color-primary-200: #fcd9bd;\n\t--color-primary-300: #fdba8c;\n\t--color-primary-400: #ff8a4c;\n\t--color-primary-500: #ff6d5a;\n\t--color-primary-600: #ea580c;\n\t--color-primary-700: #c2410c;\n\t--color-primary-800: #9a3412;\n\t--color-primary-900: #7c2d12;\n\n\t/* Accent colors */\n\t--color-accent-blue: #3b82f6;\n\t--color-accent-purple: #8b5cf6;\n\t--color-accent-green: #10b981;\n\t--color-accent-yellow: #f59e0b;\n\n\t/* Semantic colors */\n\t--color-success: #10b981;\n\t--color-warning: #f59e0b;\n\t--color-error: #ef4444;\n\t--color-info: #3b82f6;\n\n\t/* Background colors */\n\t--color-background: var(--color-gray-50);\n\t--color-background-alt: var(--color-white);\n\t\n\t/* Form-specific colors */\n\t--color-card-bg: var(--color-white);\n\t--color-card-border: var(--color-gray-200);\n\t--color-card-shadow: rgba(15, 23, 42, 0.08);\n\t--color-card-shadow-hover: rgba(15, 23, 42, 0.12);\n\t\n\t--color-input-bg: var(--color-white);\n\t--color-input-border: var(--color-gray-300);\n\t--color-input-border-hover: var(--color-gray-400);\n\t--color-input-border-focus: var(--color-primary-500);\n\t--color-input-text: var(--color-gray-700);\n\t--color-input-placeholder: var(--color-gray-400);\n\t\n\t--color-label: var(--color-gray-700);\n\t--color-header: var(--color-gray-900);\n\t--color-header-subtext: var(--color-gray-500);\n\t--color-link: var(--color-primary-600);\n\t--color-link-hover: var(--color-primary-700);\n\t\n\t--color-submit-btn-bg: var(--color-primary-500);\n\t--color-submit-btn-bg-hover: var(--color-primary-600);\n\t--color-submit-btn-bg-active: var(--color-primary-700);\n\t--color-submit-btn-text: var(--color-white);\n\t\n\t--color-required: var(--color-error);\n\t--color-clear-button-bg: var(--color-gray-400);\n\t--color-clear-button-bg-hover: var(--color-gray-500);\n\t\n\t/* Test notice colors */\n\t--color-test-notice-text: var(--color-warning);\n\t--color-test-notice-bg: #fffbeb;\n\t--color-test-notice-border: #fed7aa;\n\n\t/* Enhanced Border Radii */\n\t--border-radius-xs: 2px;\n\t--border-radius-sm: 4px;\n\t--border-radius-md: 6px;\n\t--border-radius-lg: 8px;\n\t--border-radius-xl: 12px;\n\t--border-radius-2xl: 16px;\n\t--border-radius-full: 9999px;\n\t\n\t/* Legacy border radius */\n\t--border-radius-card: var(--border-radius-xl);\n\t--border-radius-input: var(--border-radius-md);\n\t--border-radius-clear-btn: var(--border-radius-full);\n\t--card-border-radius: var(--border-radius-xl);\n\n\t/* Enhanced Spacing System */\n\t--space-0: 0px;\n\t--space-1: 4px;\n\t--space-2: 8px;\n\t--space-3: 12px;\n\t--space-4: 16px;\n\t--space-5: 20px;\n\t--space-6: 24px;\n\t--space-8: 32px;\n\t--space-10: 40px;\n\t--space-12: 48px;\n\t--space-16: 64px;\n\t--space-20: 80px;\n\t--space-24: 96px;\n\t\n\t/* Legacy spacing */\n\t--padding-container-top: var(--space-6);\n\t--padding-card: var(--space-6);\n\t--padding-test-notice-vertical: var(--space-3);\n\t--padding-test-notice-horizontal: var(--space-6);\n\t--margin-bottom-card: var(--space-4);\n\t--padding-form-input: var(--space-3);\n\t--card-padding: var(--space-6);\n\t--card-margin-bottom: var(--space-4);\n\n\t/* Enhanced Dimensions */\n\t--container-width: 448px;\n\t--container-width-sm: 384px;\n\t--container-width-lg: 512px;\n\t--submit-btn-height: 48px;\n\t--input-height: 44px;\n\t--checkbox-size: 18px;\n\n\t/* Enhanced Shadows */\n\t--shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n\t--shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n\t--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n\t--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n\t--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n\t--shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n\t\n\t/* Colored shadows */\n\t--shadow-primary: 0 4px 14px 0 rgba(255, 109, 90, 0.25);\n\t--shadow-primary-lg: 0 10px 25px -5px rgba(255, 109, 90, 0.3);\n\t\n\t/* Legacy shadows */\n\t--box-shadow-card: var(--shadow-lg);\n\t--box-shadow-card-hover: var(--shadow-xl);\n\n\t/* Animation & Transitions */\n\t--transition-fast: 150ms ease;\n\t--transition-normal: 250ms ease;\n\t--transition-slow: 350ms ease;\n\t--transition-bounce: 250ms cubic-bezier(0.68, -0.55, 0.265, 1.55);\n\t\n\t/* Specific transitions */\n\t--transition-colors: color 150ms ease, background-color 150ms ease, border-color 150ms ease;\n\t--transition-shadow: box-shadow 250ms ease;\n\t--transition-transform: transform 150ms ease;\n\t--transition-all: all 150ms ease;\n\n\t/* Z-index scale */\n\t--z-dropdown: 1000;\n\t--z-sticky: 1020;\n\t--z-fixed: 1030;\n\t--z-modal-backdrop: 1040;\n\t--z-modal: 1050;\n\t--z-popover: 1060;\n\t--z-tooltip: 1070;\n\n\t/* Effects */\n\t--opacity-disabled: 0.5;\n\t--opacity-placeholder: 0.6;\n\t--blur-sm: 4px;\n\t--blur-md: 8px;\n\t--blur-lg: 16px;\n\n\t/* Gradients */\n\t--gradient-primary: linear-gradient(135deg, var(--color-primary-500) 0%, var(--color-primary-600) 100%);\n\t--gradient-primary-hover: linear-gradient(135deg, var(--color-primary-600) 0%, var(--color-primary-700) 100%);\n\t--gradient-card: linear-gradient(145deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.7) 100%);\n\t\n\t/* Glassmorphism effect */\n\t--glass-bg: rgba(255, 255, 255, 0.8);\n\t--glass-border: rgba(255, 255, 255, 0.2);\n\t--glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\n\t--glass-backdrop-filter: blur(8px) saturate(180%);\n}\n\n/* Enhanced Form Styles */\n.form-container {\n\tbackground: var(--color-background);\n\tmin-height: 100vh;\n\tpadding: var(--space-6);\n\tfont-family: var(--font-family);\n}\n\n.form-card {\n\tbackground: var(--color-card-bg);\n\tborder: 1px solid var(--color-card-border);\n\tborder-radius: var(--border-radius-card);\n\tbox-shadow: var(--box-shadow-card);\n\tpadding: var(--card-padding);\n\tmargin-bottom: var(--card-margin-bottom);\n\ttransition: var(--transition-shadow);\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.form-card::before {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\theight: 4px;\n\tbackground: var(--gradient-primary);\n\tborder-radius: var(--border-radius-card) var(--border-radius-card) 0 0;\n}\n\n.form-card:hover {\n\tbox-shadow: var(--box-shadow-card-hover);\n\ttransform: translateY(-2px);\n}\n\n.form-input {\n\twidth: 100%;\n\theight: var(--input-height);\n\tpadding: var(--padding-form-input);\n\tborder: 1px solid var(--color-input-border);\n\tborder-radius: var(--border-radius-input);\n\tbackground: var(--color-input-bg);\n\tcolor: var(--color-input-text);\n\tfont-size: var(--font-size-input);\n\tfont-family: var(--font-family);\n\ttransition: var(--transition-colors), var(--transition-shadow);\n\toutline: none;\n}\n\n.form-input::placeholder {\n\tcolor: var(--color-input-placeholder);\n\topacity: var(--opacity-placeholder);\n}\n\n.form-input:hover {\n\tborder-color: var(--color-input-border-hover);\n}\n\n.form-input:focus {\n\tborder-color: var(--color-input-border-focus);\n\tbox-shadow: 0 0 0 3px rgba(255, 109, 90, 0.1);\n}\n\n.form-label {\n\tdisplay: block;\n\tcolor: var(--color-label);\n\tfont-size: var(--font-size-label);\n\tfont-weight: var(--font-weight-medium);\n\tmargin-bottom: var(--space-2);\n\tline-height: 1.5;\n}\n\n.form-submit-btn {\n\twidth: 100%;\n\theight: var(--submit-btn-height);\n\tbackground: var(--gradient-primary);\n\tcolor: var(--color-submit-btn-text);\n\tborder: none;\n\tborder-radius: var(--border-radius-input);\n\tfont-size: var(--font-size-base);\n\tfont-weight: var(--font-weight-semibold);\n\tfont-family: var(--font-family);\n\tcursor: pointer;\n\ttransition: var(--transition-all);\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.form-submit-btn:hover {\n\tbackground: var(--gradient-primary-hover);\n\tbox-shadow: var(--shadow-primary);\n\ttransform: translateY(-1px);\n}\n\n.form-submit-btn:active {\n\ttransform: translateY(0);\n}\n\n.form-submit-btn:disabled {\n\topacity: var(--opacity-disabled);\n\tcursor: not-allowed;\n\ttransform: none;\n}\n\n/* Loading animation for submit button */\n.form-submit-btn.loading::after {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: 20px;\n\theight: 20px;\n\tmargin: -10px 0 0 -10px;\n\tborder: 2px solid transparent;\n\tborder-top: 2px solid var(--color-white);\n\tborder-radius: 50%;\n\tanimation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n\t0% { transform: rotate(0deg); }\n\t100% { transform: rotate(360deg); }\n}\n\n.form-error {\n\tcolor: var(--color-error);\n\tfont-size: var(--font-size-error);\n\tmargin-top: var(--space-1);\n\tdisplay: flex;\n\talign-items: center;\n\tgap: var(--space-1);\n}\n\n.form-error::before {\n\tcontent: '⚠';\n\tfont-size: var(--font-size-sm);\n}\n\n.form-link {\n\tcolor: var(--color-link);\n\ttext-decoration: none;\n\tfont-size: var(--font-size-link);\n\ttransition: var(--transition-colors);\n\tborder-bottom: 1px solid transparent;\n}\n\n.form-link:hover {\n\tcolor: var(--color-link-hover);\n\tborder-bottom-color: var(--color-link-hover);\n}\n\n/* Micro-animations */\n.form-input:focus,\n.form-submit-btn:hover,\n.form-card:hover {\n\tanimation: subtle-bounce 0.3s ease;\n}\n\n@keyframes subtle-bounce {\n\t0%, 100% { transform: translateY(0); }\n\t50% { transform: translateY(-1px); }\n}\n\n/* Dark mode support */\n@media (prefers-color-scheme: dark) {\n\t:root {\n\t\t--color-background: var(--color-gray-900);\n\t\t--color-card-bg: var(--color-gray-800);\n\t\t--color-card-border: var(--color-gray-700);\n\t\t--color-input-bg: var(--color-gray-700);\n\t\t--color-input-border: var(--color-gray-600);\n\t\t--color-input-text: var(--color-gray-100);\n\t\t--color-label: var(--color-gray-200);\n\t\t--color-header: var(--color-gray-100);\n\t\t--color-header-subtext: var(--color-gray-400);\n\t}\n}\n\n/* Responsive design */\n@media (max-width: 640px) {\n\t:root {\n\t\t--container-width: 100%;\n\t\t--card-padding: var(--space-4);\n\t\t--font-size-header: var(--font-size-lg);\n\t}\n\t\n\t.form-container {\n\t\tpadding: var(--space-4);\n\t}\n}\n/* Enhanced Textarea Styles */\n.form-textarea {\n    width: 100%;\n    height: 120px; /* Increased height */\n    min-height: 80px;\n    max-height: 250px;\n    padding: var(--padding-form-input);\n    border: 1px solid var(--color-input-border);\n    border-radius: var(--border-radius-input);\n    background: var(--color-input-bg);\n    color: var(--color-input-text);\n    font-size: var(--font-size-input);\n    font-family: var(--font-family);\n    line-height: 1.5;\n    resize: vertical; /* Allow vertical resizing */\n    transition: var(--transition-colors), var(--transition-shadow);\n    outline: none;\n    overflow-y: auto;\n}\n\n.form-textarea::placeholder {\n    color: var(--color-input-placeholder);\n    opacity: var(--opacity-placeholder);\n}\n\n.form-textarea:hover {\n    border-color: var(--color-input-border-hover);\n}\n\n.form-textarea:focus {\n    border-color: var(--color-input-border-focus);\n    box-shadow: 0 0 0 3px rgba(255, 109, 90, 0.1);\n}\n\n/* Auto-expanding textarea */\n.form-textarea-auto {\n    height: auto;\n    min-height: 80px;\n    max-height: 300px;\n    resize: none;\n    overflow-y: hidden;\n}\n\n/* Large textarea variant */\n.form-textarea-large {\n    height: 180px;\n    min-height: 120px;\n}\n\n/* Small textarea variant */\n.form-textarea-small {\n    height: 80px;\n    min-height: 60px;\n}\n\n/* Textarea with character counter */\n.textarea-container {\n    position: relative;\n}\n\n.textarea-counter {\n    position: absolute;\n    bottom: 8px;\n    right: 12px;\n    font-size: var(--font-size-xs);\n    color: var(--color-gray-400);\n    background: var(--color-input-bg);\n    padding: 2px 4px;\n    border-radius: var(--border-radius-sm);\n}\n\n.textarea-counter.limit-approaching {\n    color: var(--color-warning);\n}\n\n.textarea-counter.limit-exceeded {\n    color: var(--color-error);\n}"
        }
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.2,
      "position": [
        0,
        0
      ],
      "id": "85e70a3a-cb98-43a4-92db-cc9d4ef2899b",
      "name": "On form submission",
      "webhookId": "b7dbfe35-95b7-4ef8-a035-e2cb5ed2d3de"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://api.apify.com/v2/acts/code_crafter~apollo-io-scraper/run-sync-get-dataset-items",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Accept",
              "value": "application/json"
            },
            {
              "name": "Authorization",
              "value": "Bearer your_apify_api_token_here"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n   \"cleanOutput\":true,\n   \"totalRecords\":500,\n   \"url\":\"{{ $json.apolloUrl }}\"\n}",
        "options": {
          "redirect": {
            "redirect": {}
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        576,
        0
      ],
      "id": "a64b986b-744a-4472-abd8-1a5728c6e06f",
      "name": "Scrape Apollo Leads"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "messages": {
          "values": [
            {
              "content": "=LinkedIn Personalized Outreach Generator\nAnalyze the LinkedIn profile below and create personalized outreach content. \nLinkedIn URL {{ $json.linkedin_url }}\n\nReference specific details like recent posts, job changes, company news, or shared connections.\nInput Format:\nLinkedIn Profile: [Name, title, company, recent activity, background]\nYour Product/Service: SME Insurance\nGoal: [Partnership, sales, networking, etc.]\nGenerate:\n🔥 ICE BREAKER (50-80 words):\n\nCasual, genuine opener\nReference 2-3 specific profile details\nNatural conversation starter\n\n📧 EMAIL (100-150 words):\n\nSubject: [Personalized 5-8 words]\nOpening: Personal hook with specific details\nBody: Value proposition for their role/industry\nCTA: Clear next step\n\nRules:\n✅ Use specific details (recent posts, achievements, company news)\n✅ Match their seniority level tone\n✅ Sound human, not automated\n❌ No generic templates\n❌ Don't over-compliment\n❌ Avoid assumptions about needs",
              "role": "system"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        1088,
        0
      ],
      "id": "50c30a40-109d-40e2-b033-411aca120c72",
      "name": "LinkedIn Personalized Outreach Generator",
      "credentials": {
        "openAiApi": {
          "id": "AsYwwI5lf3Rt3XNn",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        784,
        0
      ],
      "id": "5f90f66c-6953-4396-8cca-79ceaa5bd30a",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "jsCode": "return items.map(item => {\n  // Base URL\n  let baseUrl = \"https://app.apollo.io/#/people?page=1\";\n\n  // Default filters\n  let defaultFilters = [\n    \"contactEmailStatusV2[]=verified\",\n    \"existFields[]=person_title_normalized\",\n    \"existFields[]=organization_domain\",\n    \"personLocations[]=Singapore\",\n    \"personLocations[]=Singapore%2C%20Singapore\",\n    \"sortAscending=true\",\n    \"sortByField=sanitized_organization_name_unanalyzed\"\n  ];\n\n  // Extract inputs from form (keys with spaces)\n  const jobTitles = item.json[\"Job Titles\"] || [];\n  const companySizes = item.json[\"Company Size\"] || [];\n\n  // Build query params for job titles\n  let titleFilters = jobTitles.map(title => `personTitles[]=${encodeURIComponent(title)}`);\n\n  // Build query params for company sizes\n  let sizeFilters = companySizes.map(size => {\n    let normalized = size.replace(\"-\", \",\"); // Apollo wants \"1,10\"\n    return `organizationNumEmployeesRanges[]=${encodeURIComponent(normalized)}`;\n  });\n\n  // Combine all filters\n  let fullUrl = `${baseUrl}&${[...defaultFilters, ...titleFilters, ...sizeFilters].join(\"&\")}`;\n\n  return {\n    json: {\n      apolloUrl: fullUrl,\n      jobTitles,      // normalized key for output\n      companySize: companySizes // normalized key for output\n    }\n  };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        320,
        240
      ],
      "id": "9819e0df-9dff-435b-b77e-0924f89b8347",
      "name": "Code"
    }
  ],
  "pinData": {},
  "connections": {
    "On form submission": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Scrape Apollo Leads": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "LinkedIn Personalized Outreach Generator": {
      "main": [
        [
          {
            "node": "Append row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "LinkedIn Personalized Outreach Generator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Scrape Apollo Leads",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "6a44d2c9-a4db-4914-9233-d08cc6084fa6",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "fdcacd632641c750d9b1cbabf9c98841cdd02f0c831230eb84ebb0b0ef5e0a26"
  },
  "id": "Fm1fLvCXyg5leFW9",
  "tags": []
}