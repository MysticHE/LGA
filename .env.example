# Lead Generation Automation - Environment Variables
# Copy this file to .env and fill in your actual values

# ===== REQUIRED CORE VARIABLES =====

# Apollo.io / Apify Integration
APIFY_API_TOKEN=your_apify_api_token_here

# OpenAI Integration (for AI-generated email content)
OPENAI_API_KEY=your_openai_api_key_here

# Microsoft Azure/Graph Integration
AZURE_TENANT_ID=your_azure_tenant_id
AZURE_CLIENT_ID=your_azure_client_id
AZURE_CLIENT_SECRET=your_azure_client_secret

# Deployment URL (CRITICAL for webhook functionality)
RENDER_EXTERNAL_URL=https://your-app.onrender.com

# ===== OPTIONAL CONFIGURATION =====

# Server Configuration
PORT=3000
NODE_ENV=production

# Rate Limiting
MAX_REQUESTS_PER_MINUTE=10
MAX_LEADS_PER_REQUEST=10000

# Webhook Configuration (for email read/reply tracking)
WEBHOOK_BASE_URL=https://your-app.onrender.com
WEBHOOK_CLIENT_STATE=lga-email-tracking

# ===== WEBHOOK TRACKING SETUP NOTES =====

# For email read/reply tracking to work properly:
# 1. RENDER_EXTERNAL_URL must be your actual deployed app URL
# 2. Must use HTTPS (required by Microsoft Graph webhooks)
# 3. App must be publicly accessible for webhook validation
# 4. Webhook subscriptions will auto-renew every 20 hours

# Example for Render deployment:
# RENDER_EXTERNAL_URL=https://lga-production.onrender.com

# After deployment, call these endpoints to set up tracking:
# POST /api/email/webhook/auto-setup - Create webhook subscriptions
# GET /api/email/webhook/health - Check webhook configuration
# GET /api/email/diagnostic - Check tracking data status